service: yt-videos
provider:
  name: aws
  runtime: nodejs12.x
  memorySize: 1024
  profile: pc_serverless
  stage: ${opt:stage, 'dev'}
  timeout: 300
  environment:
    FOO: bar

functions:
  list:
    handler: handler.getChannelVideos
    events:
      - http: 
          path: list
          method: get
          cors: false
    layers:
      - { Ref: ChromiumLambdaLayer }
  details:
    handler: handler.getVideoDetails
    events:
      - http: 
          path: details
          method: get
          cors: false

layers:
  chromium:
    path: layers
